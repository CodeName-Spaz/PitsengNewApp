<ion-header class="ion-no-border" id="web">
  <ion-toolbar>
    <img src="../../assets/Group 235.png" alt="">


    <ion-buttons slot="end">

      <ion-button (click)="presentModal()">
        <ion-icon slot="icon-only" name="search"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-buttons slot="end">

      <ion-button class="notification" (click)="reviewed()">
        <ion-icon slot="icon-only" name="heart"></ion-icon>
        <span class="badge"></span>
      </ion-button>

      <ion-button class="notification" (click)="getCart()">
        <ion-icon slot="icon-only" name="basket"></ion-icon>
        <span class="badge"></span>
      </ion-button>
      <ion-button color="secondary" (click)="gotoProfile()">
        <ion-icon slot="icon-only" name="person"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>

  <ion-toolbar class="ribbon" color="transparent">

    <ion-buttons slot="secondary">
      <ion-button id="{{val}}" (click)="getProductsbyCategory('Deco')">
        <ion-icon slot="start" src="../../assets/PhotoFrame.svg"></ion-icon> Decorations
      </ion-button>

      <ion-button (click)="getProductsbyCategory('Pottery')">
        <ion-icon slot="start" src="../../assets/pottery.svg"></ion-icon> Pottery
      </ion-button>

      <ion-button (click)="getProductsbyCategory('Vases')">
        <ion-icon slot="start" src="../../assets/pot.svg"></ion-icon> Vases
      </ion-button>

      <ion-button (click)="getProductsbyCategory('Lamps')">
        <ion-icon slot="start" src="../../assets/lamp.svg"></ion-icon> Lamps
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>


<ion-header class="ion-no-border" id="mobile">
  <ion-toolbar>
    <ion-buttons slot="start">

      <ion-button>
        <ion-icon slot="icon-only" name="search"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-buttons slot="end">

      <ion-button class="notification" (click)="visitWish()">
        <ion-icon slot="icon-only" name="heart"></ion-icon>
        <span class="badge"></span>
      </ion-button>

      <ion-button class="notification" (click)="visitCart()">
        <ion-icon slot="icon-only" name="basket"></ion-icon>
        <span class="badge"></span>
      </ion-button>
      <ion-button color="secondary" (click)="visitProfile()">
        <ion-icon slot="icon-only" name="ellipsis-vertical"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<div [ngClass]="{'loader': loaderAnimate, 'loader-hide': !loaderAnimate}">

  <div class="loader">
    <img src="../../assets/pottery-clipart-clay-13.gif" alt="">
    <svg width="200" height="200" viewBox="0 0 100 100">
      <polyline class="line-cornered stroke-still" points="0,0 100,0 100,100" stroke-width="10" fill="none"></polyline>
      <polyline class="line-cornered stroke-still" points="0,0 0,100 100,100" stroke-width="10" fill="none"></polyline>
      <polyline class="line-cornered stroke-animation" points="0,0 100,0 100,100" stroke-width="10" fill="none">
      </polyline>
      <polyline class="line-cornered stroke-animation" points="0,0 0,100 100,100" stroke-width="10" fill="none">
      </polyline>
    </svg>
  </div>
</div>

<ion-content>
  <div class="container">

    <div class="title">
      <h2>Explore</h2>
    </div>

    <div class="nav">

      <div class="icon">
        <ion-button (click)="getProductsbyCategory('Pottery')" color="transparent">
          <ion-icon name="square"></ion-icon>
        </ion-button>
      </div>
      <div class="icon">
        <ion-button (click)="getProductsbyCategory('Vases')" color="transparent">
          <ion-icon name="square"></ion-icon>
        </ion-button>

      </div>
      <div class="icon">
        <ion-button (click)="getProductsbyCategory('Deco')" color="transparent">
          <ion-icon name="square"></ion-icon>
        </ion-button>

      </div>
      <div class="icon">
        <ion-button (click)="getProductsbyCategory('Lamps')" color="transparent">
          <ion-icon name="square"></ion-icon>
        </ion-button>

      </div>
    </div>

    <div class="info">
      <p>{{myProduct.length}} Products</p>
      <p class="best_selling">Best Selling <ion-icon name="chevron-down-outline"></ion-icon>
      </p>
    </div>

    <div class="cards">

      <div id="card" *ngFor="let p of myProduct" (click)="viewProduct(p)">

        <div class="image">
          <img src="{{p.data.image}}" alt="">
        </div>
        <div class="text">
          <p> {{p.data.name}} <br>
            <span>{{p.data.price | currency:"R"}}</span></p>
          <p class="starz">

            <!-- <ionic4-star-rating #rating activeIcon="ios-star" defaultIcon="ios-star-outline" activeColor="#FFD700"
        defaultColor="#D3D3D3" readonly="true" rating="{{avgRating}}" fontSize="18px"
        (ratingChanged)="getRatings()">
      </ionic4-star-rating> -->
      
            <ion-icon name="star"></ion-icon>
            <ion-icon name="star"></ion-icon>
            <ion-icon name="star"></ion-icon>
            <ion-icon name="star"></ion-icon>
            <ion-icon name="star-half-outline"></ion-icon>
          </p>
        </div>
      </div>



    </div>

  </div>
  <div class="backdrop1" *ngIf="viewBackdrop"></div>
  <div id="cart" [ngClass]="{'viewcart': viewCart, 'closecart': !viewCart}">

    <div class="heading">
      <p>Your Cart</p>

      <ion-icon slot="icon-only" name="close" (click)="getCart()"></ion-icon>

    </div>


    <div class="wishlist_items">
      <div class="div">


        <div class="items" *ngFor="let cp of prodCart; let i of index">
          <div class="left" *ngFor="let prod of cp.data.product">
            <div class="img">
              <img src="{{prod.picture}}" alt="">
            </div>

            <div class="item_details">
              <p> <b>{{prod.product_name}} <br> {{prod.cost | currency:"R"}}</b><br>
                <span>size: {{prod.size}}</span><br>
              </p>

              <div class="add_buttons">
                <p>QTY: {{prod.quantity}}</p>
                <div class="clicks">
                  <ion-button (click)="plus(prod, i)" color="transparent" class="adds">
                    <span>
                      <ion-icon slot="start" name="add"></ion-icon>
                    </span>
                  </ion-button>
                  <ion-button (click)="minus(prod, i)" color="transparent" class="adds1">
                    <span>
                      <ion-icon slot="start" name="remove"></ion-icon>
                    </span>
                  </ion-button>
                </div>

                <!-- <ion-icon slot="start" name="remove-circle-outline"></ion-icon>
                3 <ion-icon slot="end" name="add-circle-outline"></ion-icon> -->
              </div>

            </div>
          </div>

          <div class="right">
            <div class="trash_icon" (click)="removeProd(cp.id)">
              <ion-icon slot="start" name="trash"></ion-icon>
            </div>


          </div>
        </div>

        <!-- <div class="items" id="noItems" *ngIf="prodCart.length === 0">
          <p>Basket Empty</p>
          <img src="../../assets/empty-cart.svg" alt="">
        </div> -->


        <div class="add_to_basket">
          <p style="width: 100%; text-align: left; font-size: 13px; color: rgb(129, 35, 1)">Shipping Methods</p>
          <div class="delivery_options">
            <ion-button (click)="switchView('d')" color="transparent" id="del"
              [ngClass]="{'delivery':buttonActive, 'delivery-inactive': !buttonActive}">
              DELIVERY
            </ion-button>
            <ion-button (click)="switchView('c')" color="transparent" id="col"
              [ngClass]="{'collection': !buttonActive, 'collection-inactive': buttonActive}">
              COLLECTION
            </ion-button>
          </div>

          <p style="width: 100%; text-align: right; font-size: 13px; color: rgb(129, 35, 1)">
            <i>Please Note: Delivery will take up to four days
            </i></p>

          <p style="width: 100%; text-align: right; font-size: 13px; color:rgb(129, 35, 1)">
            <i>Please Note: You can collect your items at any time
            </i></p>
          <ion-button color="transparent" [disabled]="!delType" (click)="placeOrder()">
            <div *ngIf="delType==='Delivery'">  PLACE ORDER ({{Delivery(getTotal()) | currency:'R'}}) </div>
            <div *ngIf="delType==='Collection'">PLACE ORDER ({{notDelivery(getTotal()) | currency:'R'}})</div>
            <div *ngIf="!delType">PLACE ORDER</div>
          </ion-button>
        </div>

      </div>

    </div>
  </div>

  <div id="wish" [ngClass]="{'viewwishlist': viewWishlist, 'closewishlist': !viewWishlist}">
    <div class="heading">
      <p> Your Wishlist
      </p>
      <ion-icon slot="icon-only" name="close" (click)="reviewed()"></ion-icon>
    </div>
    <div class="wishlist_items">
      <div class="div">
        <div class="items" *ngFor="let w of myWish; let i = index">
          <ion-checkbox (ionChange)="viewProd(w.id)"></ion-checkbox>
          <div class="left">
            <div class="img">
              <img src="{{w.info.image}}" alt="">
            </div>

            <div class="item_details">
              <p>{{w.info.name}}<br>{{w.info.price | currency:'R'}} <br> Code: {{w.info.productCode}}</p>
              <p style="color: rgb(77, 1, 1)"><i>Item Available</i></p>
            </div>
          </div>

          <div class="right">
            <div class="trash_icon" (click)="delete(w.id)">
              <ion-icon slot="start" name="trash"></ion-icon>
            </div>
          </div>
        </div>


      </div>
    </div>
    <!-- <div class="add_to_basket">
      <ion-button color="transparent">
        ADD TO CART (R500.00)
      </ion-button>
    </div> -->
  </div>


  <div id="wish" [ngClass]="{'viewprofile': viewProfile, 'closeprofile': !viewProfile}">
    <div class="heading">
      <p> Profile
      </p>
      <ion-icon slot="icon-only" name="close" (click)="gotoProfile()"></ion-icon>
    </div>

    <div class="profile_details">
      <div class="profile_image">
        <img src="{{profile.image}}" alt="">
      </div>

      <div class="user_details">
        <h1>{{profile.name}}</h1>
        <p>{{profile.email}} <br>
          {{profile.address}} <br>
          {{profile.number}}</p>
      </div>
      <div class="edit_icon" (click)="editProfile()">
        <ion-icon name="create"></ion-icon>
      </div>
    </div>
    <div class="line"></div>

    <div class="pending_orders">
      <div class="pending_button" (click)="pending()">
        <span>Pending Orders <ion-icon name="chevron-down-outline"></ion-icon></span>
      </div>
      <div class="orders" *ngIf="pendingOrders">

        <div class="card" >
          <div class="img">
            <img src="../../assets/photo-1559740983-b9c5ffbac1ff.jpg" alt="">
          </div>

          <div class="details">
            <p class="code">
              <ion-icon slot="start" name="clipboard"></ion-icon> KHJ123568
            </p>
            <p><span>Date of Purchase:</span> 13/08/20
            </p>
            <p><span>Delivery Date:</span> 13/08/20</p>

            <ion-button>
              Track
            </ion-button>
          </div>
        </div>

        <div class="card">
          <div class="img">
            <img src="../../assets/photo-1559740983-b9c5ffbac1ff.jpg" alt="">
          </div>

          <div class="details">
            <p class="code">
              <ion-icon slot="start" name="clipboard"></ion-icon> KHJ123568
            </p>
            <p>Date of Purchase: 13/08/20
            </p>
            <p>Delivery Date: 13/08/20</p>

            <ion-button>
              Track
            </ion-button>
          </div>
        </div>

        <div class="card">
          <div class="img">
            <img src="../../assets/photo-1559740983-b9c5ffbac1ff.jpg" alt="">
          </div>

          <div class="details">
            <p class="code">
              <ion-icon slot="start" name="clipboard"></ion-icon> KHJ123568
            </p>
            <p>Date of Purchase: 13/08/20
            </p>
            <p>Delivery Date: 13/08/20</p>

            <ion-button>
              Track
            </ion-button>
          </div>
        </div>


      </div>
    </div>

    <div class="order_history">
      <div class="history_button" (click)="history()">
        <p> <span>Order History <ion-icon name="chevron-down-outline"></ion-icon></span></p>
        
      </div>
      <div class="orders" *ngIf="orderHistory">

        <div class="card">
          <div class="img">
            <img src="../../assets/photo-1559740983-b9c5ffbac1ff.jpg" alt="">
          </div>

          <div class="details">
            <p class="code">
              <ion-icon slot="start" name="clipboard"></ion-icon> KHJ123568
            </p>
            <p><span>Date of Purchase:</span> 13/08/20
            </p>
            <p><span>Delivery Date:</span> 13/08/20</p>

            <ion-button (click)="presentHistory()">
              View
            </ion-button>
          </div>
        </div>

        <div class="card">
          <div class="img">
            <img src="../../assets/photo-1559740983-b9c5ffbac1ff.jpg" alt="">
          </div>

          <div class="details">
            <p class="code">
              <ion-icon slot="start" name="clipboard"></ion-icon> KHJ123568
            </p>
            <p>Date of Purchase: 13/08/20
            </p>
            <p>Delivery Date: 13/08/20</p>

            <ion-button>
              View
            </ion-button>
          </div>
        </div>

        <div class="card">
          <div class="img">
            <img src="../../assets/photo-1559740983-b9c5ffbac1ff.jpg" alt="">
          </div>

          <div class="details">
            <p class="code">
              <ion-icon slot="start" name="clipboard"></ion-icon> KHJ123568
            </p>
            <p>Date of Purchase: 13/08/20
            </p>
            <p>Delivery Date: 13/08/20</p>

            <ion-button>
              View
            </ion-button>
          </div>
        </div>


      </div>
    </div>
  </div>

  <ion-footer id="webview">
    <div class="footer">
      <div class="heading">
        <img src="../../assets/Group 235.png" alt="">
      </div>

      <div class="contact_details">
        <h1>FIND US</h1>
        <p>
          <ion-icon slot="start" name="call"></ion-icon> +27 71 567 3284
        </p>
        <p>
          <ion-icon slot="start" name="mail"></ion-icon> pitsengartsandcrafts.co.za
        </p>

        <p class="address">
          <ion-icon slot="start" name="location"></ion-icon> Soweto Empowerment Zone <br>
          Diepkloof, Chris Hani Road <br>
          SOWETO<br>
          1862
        </p>

      </div>

      <div class="info">
        <h1>QUICK LINKS</h1>
        <ion-button color="transparent">
          <span>FAQs</span>
        </ion-button>
        <ion-button color="transparent">
          <span>Terms and Privacy Policy</span>
        </ion-button>
        <ion-button color="transparent">
          <span>Disclaimer</span>
        </ion-button>
      </div>

      <div class="connect">
        <h1>CONNECT</h1>
        <ion-button color="transparent">
          <ion-icon slot="start" name="logo-facebook"></ion-icon>
          Facebook
        </ion-button>
        <ion-button color="transparent">
          <ion-icon slot="start" name="logo-instagram"></ion-icon>
          Instagram
        </ion-button>

        <ion-button color="transparent">
          <ion-icon slot="start" name="logo-twitter"></ion-icon>
          Twitter
        </ion-button>
      </div>

      <div class="app_store">
        <img src="../../assets/android.png" alt="App Store">
      </div>

    </div>
    <ion-toolbar color="transparent">
      <ion-title>&copy; Pitseng Arts & Crafts 2020</ion-title>
    </ion-toolbar>
  </ion-footer>

</ion-content>